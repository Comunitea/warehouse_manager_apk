<ion-header>
  <ion-toolbar>
    <ion-title>Listado de albaranes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-toolbar>
      <ion-searchbar type="text" [ngModel]="Search" (ionInput)="get_search_results($event)" autocomplete="on" showCancelButton="always"></ion-searchbar>
    </ion-toolbar>
  </ion-row>
  <ion-row>
    <ion-col size-xs="12" size-sm="6" size-lg="6" *ngFor="let Pick of Picks; let indice=index">
      <ion-card class="m3px">
        <ion-card-header [ngClass]="Pick['try_validate'] != true ? 'primary-deactive':'primary-active'">
          <ion-row>
            <ion-col class="card" size-xs="6" size-sm="6"  (click)="NavegarA(Pick['id'])">
              {{indice + 1}} --> {{Pick['name']}}
            </ion-col>
            <ion-col class="card" size-xs="5" size-sm="5">
              {{Pick['state']['name']}}
            </ion-col>
            <ion-col class="card" size-xs="1" size-sm="1" (click)="SetAsActive(indice)">
              <ion-icon name="checkmark-done-circle-outline"  *ngIf="Pick['selected']">  </ion-icon>
              <ion-icon name="ellipse-outline"                *ngIf="!Pick['selected']">  </ion-icon>
            </ion-col>
          </ion-row>
        </ion-card-header>
        <ion-card-content  >
          <ion-row>
            <ion-col class="card" size="12" (click)="presentButtons()">
              {{Pick['partner_id'] && Pick['partner_id']['name'] || ''}}
            </ion-col>
            <ion-col class="card" size="6">
              {{Pick['order_id'] && Pick['order_id']['name'] || ''}}
            </ion-col>
            <ion-col class="card" size="6">
              {{Pick['box_id'] && Pick['box_id']['name']}}
            </ion-col>
            <ion-col class="card" size="12">
              {{Pick['info_str']}}
            </ion-col>

          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-col>       
  </ion-row>
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
        <ion-infinite-scroll-content
          loadingSpinner="bubbles"
          loadingText="Cargando mÃ¡s productos...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
    
</ion-content>

  <ion-tab-bar slot="bottom" class="bottom-tab-bar">
    <ion-tab-button tab="home" (click)="TabNavegarA('/navegacion-albaranes')">
      <ion-icon mode="md" name="home"></ion-icon>
      <ion-label>Home</ion-label>
    </ion-tab-button>

    <!--ion-tab-button (click)="presentButtons()" class="button-center">
      <ion-icon name="ellipsis-vertical-outline"></ion-icon>
      <ion-label>Acciones</ion-label>
    </ion-tab-button-->

    <ion-tab-button tab="schedules" (click)="ToDoToday()" class="inner-left-btn">
      <ion-icon name="calendar"></ion-icon>
      <ion-label>Hoy</ion-label>
      <ion-badge>{{1}}</ion-badge>
    </ion-tab-button>


    <!--ion-tab-button (click)="CreateFilterButtons()" tab="users" class="inner-right-btn">
      <ion-icon name="funnel-outline"></ion-icon>
      <ion-label>Filtrar</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="settings">
      <ion-icon name="settings"></ion-icon>
      <ion-label>Settings</ion-label>
    </ion-tab-button-->

  </ion-tab-bar>

<!--app-scanner-footer (ScannerReadingChanged)="onReadingEmitted($event)" [ScannerReading]="ScannerReading"></app-scanner-footer-->
